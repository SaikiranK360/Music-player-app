<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="main_container">
        <div class="music_container">
            <h2 id="title">Don't be a stranger</h2>
            <div class="image_container">
                <img src="images/first.jpeg" alt="The image" />
            </div>
            <audio src="music/first.mp3">
            </audio>
            <div class="music_control">
                <i class="fas fa-backward" id="prev" title="Previous"></i>
                <i class="fas fa-play-circle" id="play" title="Play"></i>
                <i class="fas fa-forward" id="next" title="Next"></i>
            </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        const prev=document.getElementById("prev");
        const play=document.getElementById("play");
        const next=document.getElementById("next");
        const music=document.querySelector("audio");
        const title=document.getElementById("title");
        const imag=document.querySelector("img");

        const song=[
            {
                name:"first",
                title:"Don't be a stranger"
            },
            {
                name:"second",
                title:"Fly Again"
            },
            {
                name:"third",
                title:"Throne"
            }
        ];

         isplaying=false;

        const playmusic=() =>{
            music.play();
            isplaying=true;
            play.classList.replace("fa-play-circle","fa-pause-circle");
        }

        const pausemusic=() =>
        {
            music.pause();
            isplaying=false;
            play.classList.replace("fa-pause-circle","fa-play-circle");
        }

        play.addEventListener("click",() =>{
            if(isplaying)
            {
                pausemusic();
            }

            else{
                playmusic();
            }
        });

        var index=0;
        const load=(song) =>
        {
            title.textContent=song.title;
            music.src="music/"+song.name+".mp3";
            imag.src="images/"+song.name+".jpeg";
            playmusic();
        }

        const nextsong=() =>
        {
            index=(index+1)%song.length;
            load(song[index]);
        }

        const previoussong=() =>{
            index=(index-1+song.length)%song.length;
            
            load(song[index]);
        }
        next.addEventListener("click",nextsong);
        prev.addEventListener("click",previoussong);
    </script>
</body>
</html>
